# Note! section names are case sensitive, option names are case-insensitive

[settings]
## dnscrypt-proxies settings only, nothing about instance[s]

log = console
## /path/to/file, syslog or console; default (unset) is /var/log/dnscrypt-proxy/dnscrypt-proxies.log

loglevel = info
## valid values are: CRITICAL(50), ERROR(40), WARNING(30), INFO(20), DEBUG(10)
## or any integer in range 10..50

statinterval = 600
# logs short stats every statinterval seconds, stats are disabled if unset

[common]
## these values applies to every instance, but can be overridden in instance section

ResolversList = /usr/share/dnscrypt-proxy/dnscrypt-resolvers.csv
## Note! mandatory in list and random modes

# mode = config ; use config file, see config parameter
# mode = list ; use [section_name] resolver from ResolversList file
# mode = manual ; [section_name] as ProviderName, ProviderKey and ResolverAddress is mandatory
mode = random ; not allowed in instance sections
## create nrandom instances from ResolversList, ignore any existing instance sections

nrandom = 3
## not allowed in instance sections

filter = !match: name =~ 'ipv6' or desc =~ '(family|adguard|ads|adult|safesearch|ipv6)' or
                 nologs =~ 'no' or dnssec =~ 'no'

## not allowed in instance sections
## prefilter for randomly picked resolvers from ResolverList (random mode)
## syntax: [[!]match:] filter_expr
##   filter_expr: set of <field compare_operator value> tokens, combined together with parentheses
##   and logical operators (and, or, not)
##   compare_operators: ==, != (string comparison) and =~, !~ (regular expression match)
##   field: [native long name]|short_name
##   value: 'string'|"string" (=~, !~ comparisons expect non-empty valid python regular expression!)
## note! both string comparison and regex match are case-insensitive
## default (w/o match prefix) filter behaviour is selecting all resolvers matching filter_expr (also with match: prefix),
## but it can be reverted using !match: prefix
##
## ResolverList fields (native long name: short_name), also can be seen in --help:
##   Name: name
##   Full name: fullname
##   Description: desc
##   Location: loc
##   Coordinates: coords
##   URL: url
##   Version: ver
##   DNSSEC validation: dnssec
##   No logs: nologs
##   Namecoin: ncoin
##   Resolver address: addr
##   Provider name: fqdn
##   Provider public key: pubkey
##   Provider public key TXT record: txt

# ProviderKey =
# ResolverAddress =
## allowed only in instance sections

# config = /etc/dnscrypt-proxy/${name}.config ; this is default (unset)

LogFile = /var/log/dnscrypt-proxy/${name}.log ; this is default (unset)
# LogFile = syslog ; note that --syslog-prefix will be set (implicitly) to [section_name]
# LogFile = none

# LogLevel = 6 ; valid values are in range from 0 (critical) to 7 (debug-level messages)

LocalAddress = 127.10.10.1
## HERE it is a STARTING address for the first instance section (if not overridden there)
## to be incremented in every instance section (if not overridden there)
## Note! 1) LocalAddress is mandatory in random mode
##       2) there is no any checks for "invalid" values - network addresses itself or broadcast addresses

# EphemeralKeys = no
# TcpOnly = no
# MaxActiveRequests = 250
# EDNSPayloadSize = 1252

user = dnscrypt

;[fvz-anyone]
;mode = list
;
;[fvz-anytwo]
;mode = list
;
;
;[hz]
;mode = manual
;
;[testname]
;mode = manual
;LocalAddress = 127.0.0.200:100
;ProviderKey = C392:2B83:8EB3:884B:B99B:70BD:B90A:C204:37A4:797A:35F4:3600:7641:94E3:F995:444A
;ResolverAddress = 185.90.62.45

;[testname1]
;mode = config
;config = /etc/dnscrypt-proxy.conf.old
